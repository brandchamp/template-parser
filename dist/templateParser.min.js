"use strict";function parseTemplate(e,i){var t=extractTokensFromTemplate(e),c=[];return{text:t.reduce(function(e,t){var r=t.expression,n=t.token,o=t.props,p=i[n],a="function"==typeof p,s=o.map(function(e){return e.startsWith('"')&&e.endsWith('"')?JSON.parse(e):i[e]?i[e]:e}),u=a?p.apply(void 0,s):p;return"string"!=typeof u&&"number"!=typeof u||s.length&&!a?(c.push(t),e):e.replace(r,String(u))},e),unreplacedTokens:c}}function extractTokensFromTemplate(e){if(!e||"string"!=typeof e)return[];return matchAll(e,/{{([^{}]+)}}/g).map(function(e){var t=matchAll(e[1],/("(?:[^"\\]|\\.)*")|([A-z0-9:-]+)/g);if(t&&t.length)return{expression:e[0],token:t.shift()[0],props:t.map(function(e){return e[0]})}}).filter(function(e){return e})}function matchAll(e,t){for(var r,n=[];r=t.exec(e);)n.push(r);return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractTokensFromTemplate=extractTokensFromTemplate,exports.parseTemplate=parseTemplate;
